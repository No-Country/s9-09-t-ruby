<%# Removes new_form from new_ingredient turbo_frame %>
<%= turbo_stream.update nested_dom_id(IngredientItem.new, @ingredient_item.addable_type), "" %>

<%# Updates ingredient_items %>
<%= turbo_stream.update @ingredient_item.addable_type.pluralize do %>
  <%= render partial: "ingredient_items/#{@ingredient_item.addable_type.downcase}_ingredient_item", collection: @recipe.ingredient_items.where(addable_type: @ingredient_item.addable_type).includes(:addable), as: :ingredient_item %>
<% end %>

<%# Updates result ingredient bar %>
<%= turbo_stream.update "#{@ingredient_item.addable_type.downcase}_result", partial: "ingredient_items/#{@ingredient_item.addable_type.downcase}_result", locals: { recipe: @ingredient_item.recipe } %>

<%# Shows messages %>
<%= render_turbo_stream_flash_messages %>
